!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.fit=e():t.fit=e()}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(r(2)),o=n(r(6)),a=n(r(7)),u=n(r(8)),s=function(t,e,r){var n=function(){function n(t){(0,a.default)(this,n),this.container=this.toDOMArr(t),this.isArray=e.isArray}return(0,u.default)(n,[{key:"isDOMArr",value:function(t){var e=this;if(!e.isArray(t))return!1;t.every((function(t){return e.isElement(t)}))}},{key:"isElement",value:function(t){return!!t&&1===t.nodeType}},{key:"isStringArr",value:function(t){return!!this.isArray(t)&&t.every((function(t){return"string"==typeof t}))}},{key:"isChild",value:function(t,e){return e.parentNode==t}},{key:"toDOMArr",value:function(t,n){var i=this,a=e.from,u=[],s=r.getElementsByClassName.bind(r),l=r.querySelectorAll.bind(r);if(i.isElement(t))u=[t];else if(t instanceof NodeList||t instanceof HTMLCollection)u=a(t);else if("string"==typeof t)u=/^\./.test(t)?a(s(t.substring(1))):a(l(t));else if(i.isStringArr(t)){var f=!0,h=!1,c=void 0;try{for(var d,p=t[Symbol.iterator]();!(f=(d=p.next()).done);f=!0){var y=d.value;u=/^\./.test(y)?u.concat(a(s(y.substring(1)))):u.concat(a(l(y)))}}catch(t){h=!0,c=t}finally{try{f||null==p.return||p.return()}finally{if(h)throw c}}}else if(i.isArray(t)&&!i.isStringArr(t)){var g=!0,v=!1,m=void 0;try{for(var D,w=t[Symbol.iterator]();!(g=(D=w.next()).done);g=!0){var A=D.value;u=u.concat(i.toDOMArr(A,n))}}catch(t){v=!0,m=t}finally{try{g||null==w.return||w.return()}finally{if(v)throw m}}}else{if("object"!=(0,o.default)(t)&&!t.d)throw Error("Incorrect DOM type description");u=i.toDOMArr(t.d,n);var b,x,S=i.getStyle(n,"width"),O=i.getStyle(n,"height");u.forEach((function(e){var r=e.style;if(t.w){var n=S*t.w-i.getStyle(e,"paddingLeft")-i.getStyle(e,"paddingRight")-i.getStyle(e,"borderLeft")-i.getStyle(e,"borderLeft");r.setProperty("width",n+"px"),b=n}else{if(!b)throw Error("pls help set property w in object");r.setProperty("width",b+"px")}if(t.h){var o=O*t.h-i.getStyle(e,"paddingTop")-i.getStyle(e,"paddingBottom")-i.getStyle(e,"borderTop")-i.getStyle(e,"borderBottom");r.setProperty("height",o+"px"),x=o}else{if(!x)throw Error("pls help set property h in object");r.setProperty("height",x+"px")}}))}return n?u.filter((function(t){return i.isChild(n,t)})):u}},{key:"is2DArr",value:function(t){var e=this;return!!e.isArray(t)&&t.every((function(t){return e.isArray(t)}))}},{key:"isNodeListArr",value:function(t){return!!this.isArray(t)&&t.every((function(t){return t instanceof NodeList||t instanceof HTMLCollection}))}},{key:"isArrPropdArr",value:function(t){var e=this;return!!e.isArray(t)&&t.every((function(t){return"object"==(0,o.default)(t)&&t.d&&e.isArray(t.d)}))}},{key:"isArrPropdNodeList",value:function(t){return!!this.isArray(t)&&t.every((function(t){return"object"==(0,o.default)(t)&&t.d&&(t.d instanceof NodeList||t.d instanceof HTMLCollection)}))}},{key:"adjustDOMchildren",value:function(t,e){var r=this,n=[];return r.is2DArr(t)||r.isNodeListArr(t)||r.isArrPropdArr(t)||r.isArrPropdNodeList(t)?t.forEach((function(t){n.push(r.toDOMArr(t,e))})):n=r.toDOMArr(t,e),n}},{key:"getStyle",value:function(e,r){var n,i=t.getComputedStyle;if(/outerWidth|outerHeight/.test(r)){var o={outerWidth:{start:"Left",end:"Right",wh:"width"},outerHeight:{start:"Top",end:"Bottom",wh:"height"}};return n=parseInt(i(e)[o[r].wh])+parseInt(i(e)["padding"+o[r].start])+parseInt(i(e)["padding"+o[r].end])+parseInt(i(e)["border"+o[r].start])+parseInt(i(e)["border"+o[r].end])}return n=i(e)[r],/padding|border|margin|width|height/.test(r)&&(n=parseInt(n)),n}},{key:"executeFlexByScreenWidth",value:function(e,r){var n=this,i=e.screenWidth&&e.screenWidth.min?e.screenWidth.min:0,o=e.screenWidth&&e.screenWidth.max?e.screenWidth.max:1/0,a=this.executeFlex(e,r),u=t.screen.width;u<=o&&u>=i&&n.renderDOM(a),e.flexWhenResize&&t.addEventListener("resize",(function(){var e=t.screen.width;e<=o&&e>=i&&a&&n.renderDOM(a)}))}},{key:"initPara",value:function(t,r){var n=this,i=t.children||r.children,o=n.adjustDOMchildren(i,r),a=function(t){if(!n.isArray(t[0]))return t.length;var e=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;e.push(s.length)}}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return e}(o);o=[].concat.apply([],o);var u=screen.width,s=screen.height,l=n.getStyle(r,"width"),f=n.getStyle(r,"height"),h=t.position&&t.position.children?t.position.children:"absolute",c=t.position&&t.position.container?t.position.container:"absolute";r.style.setProperty("position",c);var d=!0,p=!1,y=void 0;try{for(var g,v=o[Symbol.iterator]();!(d=(g=v.next()).done);d=!0){g.value.style.setProperty("position",h)}}catch(t){p=!0,y=t}finally{try{d||null==v.return||v.return()}finally{if(p)throw y}}for(var m=new e(o.length),D=0;D<o.length;D++){var w=n.getStyle(o[D],"outerWidth"),A=n.getStyle(o[D],"outerHeight");m[D]={outerWidthRatio:w/u,outerHeightRatio:A/s}}return{containerWidthRatio:l/u,containerHeightRatio:f/s,targetArrRatio:m,container:r,targetArrDOM:o,targetArr2DMatrix:a}}},{key:"executeFlex",value:function(t,r){var n=this,o=r.containerWidthRatio,a=r.containerHeightRatio,u=r.targetArrDOM,s=r.container,l=r.targetArr2DMatrix,f=JSON.parse(JSON.stringify(r.targetArrRatio)),h={};t.gapRatio&&(h=JSON.parse(JSON.stringify(t.gapRatio)));var c,d,p=t.location,y=t.center,g=t.adjust,v=h&&h.outerAll?h.outerAll*o:h&&h.left?h.left*o:0,m=h&&h.outerAll?h.outerAll*o:h&&h.right?h.right*o:0,D=h&&h.outerAll?h.outerAll*a:h&&h.top?h.top*a:0,w=h&&h.outerAll?h.outerAll*a:h&&h.bottom?h.bottom*a:0;h&&/fit/i.test(h.innerWidth)&&(h.innerWidth=0,c=!0),h&&/fit/i.test(h.innerHeight)&&(h.innerHeight=0,d=!0);var A,b,x=h&&h.innerWidth?h.innerWidth:0,S=h&&h.innerHeight?h.innerHeight:0;A=n.isArray(x)?x.map((function(t){return t*o})):[x*o],b=n.isArray(S)?S.map((function(t){return t*a})):[S*a];var O,R,M,P,W,H,j,k,L,B={width:o-v-m,height:a-D-w},E={width:A,height:b};(/vertical/i.test(p)?(f=f.map((function(t){return t.forwardDimen=t.outerHeightRatio,t.crossDimen=t.outerWidthRatio,delete t.outerHeight,delete t.outerWidth,t})),k=a,j=o,B.fDimen=B.height,B.cDimen=B.width,E.fDimen=E.height,E.cDimen=E.width,O=D,R=w,M=v,P=m,W=d,H=c):(f=f.map((function(t){return t.forwardDimen=t.outerWidthRatio,t.crossDimen=t.outerHeightRatio,delete t.outerWidth,delete t.outerHeight,t})),k=o,j=a,B.fDimen=B.width,B.cDimen=B.height,E.fDimen=E.width,E.cDimen=E.height,O=v,R=m,M=D,P=w,W=c,H=d),g&&/oneline/i.test(g))?(L=n.isArray(l)?l.reduce((function(t,e){return t+e})):f.length,l=[L]):n.isArray(l)||(l=function(t,e,r){var n,i,o=[],a=0,u=t.slice(0).map((function(t){return t.forwardDimen}));n=e.fDimen,i=r.fDimen;for(var s=0,l=0;l<u.length;l++)if(i[s]||i.push(i[i.length-1]),(a+=0==l?u[l]:i[s]+u[l])>n){if(0==l){var f="Container inner space's width and height \n                              must be longer than children outer space's";throw alert(f),Error(f)}o.push(l),u.splice(0,l),s++,a=0,l=-1}return u.length>0&&o.push(u.length),o}(f,B,E));var T=function(t,r){for(var i=n.isArray(r)?r.length:Math.ceil(t.length/r),o=0,a=new e(i),u=0;u<a.length;u++){a[u]=n.isArray(r)?new e(r[u]):new e(r);for(var s=0;s<a[u].length;s++)a[u][s]=t[o],o++}return a}(f,l);function C(t){if(!n.isArray(t))return new e(t);for(var r=[],i=0;i<t.length;i++){var o=new e(t[i]);r.push(o)}return r}for(var N=0;N<T.length;N++)for(var F=0;F<T[N].length;F++)T[N][F].crossDimen=T[N][0].crossDimen;if(W)for(var I=0;I<T.length;I++){var _=G(T[I],"forward");E.fDimen[I]=(B.fDimen-_)/(T[I].length-1)}else for(var J=0;J<T.length;J++)E.fDimen[J]||(E.fDimen[J]=E.fDimen[E.fDimen.length-1]);if(H)for(var V=0;V<T.length-1;V++){var z=G($(T,0),"cross");E.cDimen[V]=(B.cDimen-z)/(T.length-1)}else for(var q=0;q<T.length-1;q++)E.cDimen[q]||(E.cDimen[q]=E.cDimen[E.cDimen.length-1]);function G(t,e,r){var n=0;if(!t||!t[0])return n;null==e&&(e=t.length-1),"forward"!=e&&"cross"!=e||(r=e,e=t.length-1);for(var i=0;i<e+1;i++)n+="forward"==r?t[i].forwardDimen:"cross"==r?t[i].crossDimen:t[i];return n}E.fDimen=E.fDimen.slice(0,T.length),E.cDimen=E.cDimen.slice(0,f.length-1);var K=[],Q=[];if(g)for(var U=0;U<T.length;U++)Q.push(0),K.push(0);else{var X=Z(T,E,B,y),Y=(0,i.default)(X,2);Q=Y[0],K=Y[1]}function Z(t,e,r,o){var a;n.isArray(t[0])||(t=[t],a=!0);for(var u,s=[],l=[],f=0;f<t.length;f++){var h=void 0;if(/forward|bothway/i.test(o)){var c=G(t[f],"forward"),d=e.fDimen[f]*(t[f].length-1);h=(r.fDimen-c-d)/2}else h=0;l.push(h)}if(/cross|bothway/i.test(o)){var p=G($(t,0),"cross"),y=e.cDimen.reduce((function(t,e){return t+e}),0);u=(r.cDimen-p-y)/2}else u=0;for(var g=0;g<t.length;g++)s.push(u);if(a){var v=t;t=(0,i.default)(v,1)[0]}return[l,s]}function $(t,e){for(var r=[],n=0;n<t.length;n++)r.push(t[n][e]);return r}for(var tt=C(l),et=C(l),rt=0;rt<T.length;rt++)for(var nt=0;nt<T[rt].length;nt++){var it=void 0,ot=void 0;if(0==nt)it=O+Q[rt];else{var at=G(T[rt],nt-1,"forward");it=O+E.fDimen[rt]*nt+Q[rt]+at}if(0==rt)ot=M+K[rt];else{var ut=G($(T,0),rt-1,"cross"),st=G(E.cDimen,rt-1);ot=M+st+K[rt]+ut}tt[rt][nt]=it,et[rt][nt]=ot}if(g&&/multiline/i.test(g)){if(/OuterFit/i.test(g)){if(/Forward|Bothway/i.test(g)){for(var lt=[],ft=0;ft<tt.length;ft++)lt.push(tt[ft][tt[ft].length-1]+T[ft][T[ft].length-1].forwardDimen);k=Math.max.apply(null,lt)+R}if(/Cross|Bothway/i.test(g)){for(var ht=[],ct=0;ct<et[et.length-1].length;ct++)ht.push(et[et.length-1][ct]+T[T.length-1][ct].crossDimen);var dt=Math.max.apply(null,ht);j=dt+P}}if(/InnerFit/i.test(g)){if(/Forward|Bothway/i.test(g))for(var pt=0;pt<T.length;pt++)Tt(tt[pt],T[pt],k,R,"forward");if(/Cross|Bothway/i.test(g)){var yt=$(T,0),gt=$(et,0);Tt(gt,yt,j,P,"cross");for(var vt=0;vt<T.length;vt++)for(var mt=0;mt<T[vt].length;mt++)T[vt][mt].crossDimen=yt[vt].crossDimen,et[vt][mt]=gt[vt]}}for(var Dt=Z(T,E,B={cDimen:j-M-P,fDimen:k-O-R},y),wt=(0,i.default)(Dt,2),At=wt[0],bt=wt[1],xt=0;xt<T.length;xt++)for(var St=0;St<T[xt].length;St++)et[xt][St]+=bt[xt],tt[xt][St]+=At[xt]}function Ot(t){var e=[];return function t(e,r){for(var i=0;i<e.length;i++)n.isArray(e[i])?t(e[i],r):r.push(e[i])}(t,e),e}var Rt=Ot(et),Mt=Ot(tt),Pt=Ot(T);if(g&&/oneline/i.test(g)){if(/InnerFit/i.test(g)&&(/Forward|Bothway/i.test(g)&&Tt(Mt,Pt,k,R,"forward"),/Cross|Bothway/i.test(g)&&(Pt=Pt.map((function(t){return t.crossDimen=j-M-P,t})))),/OuterFit/i.test(g)&&(/Forward|Bothway/i.test(g)&&(k=Mt[Mt.length-1]+Pt[Pt.length-1].forwardDimen+R),/Cross|Bothway/i.test(g))){var Wt=Pt.map((function(t){return t.crossDimen})),Ht=Math.max.apply(null,Wt);j=M+P+Ht}for(var jt=Z(Pt,E,B={cDimen:j-M-P,fDimen:k-O-R},y),kt=(0,i.default)(jt,2),Lt=kt[0],Bt=kt[1],Et=0;Et<Pt.length;Et++)et[Et]+=Bt[0],tt[Et]+=Lt[0]}function Tt(t,e,r,n,i){var o;"forward"==i?o="forwardDimen":"cross"==i&&(o="crossDimen");for(var a=r-(t[t.length-1]+e[e.length-1][o]+n),u=G(e,i),s=e.map((function(t){return t[o]/u})),l=0,f=0;f<e.length;f++){t[f]+=l;var h=a*s[f];l+=h,e[f][o]+=h}}Pt=Pt.map((function(t){var e=[t.crossDimen,t.forwardDimen];if(t.outerHeightRatio=e[0],t.outerWidthRatio=e[1],/vertical/i.test(p)){var r=[t.forwardDimen,t.crossDimen];t.outerHeightRatio=r[0],t.outerWidthRatio=r[1]}return t})),o=k,a=j,/vertical/i.test(p)&&(o=j,a=k);var Ct=Mt,Nt=Rt;if(/vertical/i.test(p)){var Ft=[Ct,Nt];Nt=Ft[0],Ct=Ft[1]}return{containerWidthRatio:o,containerHeightRatio:a,leftPosArrRatio:Ct,topPosArrRatio:Nt,targetArr2DTo1DRatio:Pt,container:s,targetArrDOM:u}}},{key:"renderDOM",value:function(e){var r=t.screen.width,n=t.screen.height,i=e.container,o=e.targetArrDOM,a=e.containerWidthRatio*r,u=e.containerHeightRatio*n,s=e.leftPosArrRatio.map((function(t){return t*r})),l=e.topPosArrRatio.map((function(t){return t*n})),f=e.targetArr2DTo1DRatio.map((function(t){return t.outerWidth=t.outerWidthRatio*r,t.outerHeight=t.outerHeightRatio*n,t})),h=i.style;h.setProperty("width",a+"px"),h.setProperty("height",u+"px");for(var c=[{start:"Left",end:"Right",prop:"width",outerProp:"outerWidth"},{start:"Top",end:"Bottom",prop:"height",outerProp:"outerHeight"}],d=0;d<o.length;d++){var p=o[d].style,y=!0,g=!1,v=void 0;try{for(var m,D=c[Symbol.iterator]();!(y=(m=D.next()).done);y=!0){var w=m.value,A=this.getStyle(o[d],"padding"+w.start)+this.getStyle(o[d],"padding"+w.end)+this.getStyle(o[d],"border"+w.start)+this.getStyle(o[d],"border"+w.end),b=f[d][w.outerProp]-A;p.setProperty(w.prop,b+"px")}}catch(t){g=!0,v=t}finally{try{y||null==D.return||D.return()}finally{if(g)throw v}}p.setProperty("left",s[d]+"px"),p.setProperty("top",l[d]+"px")}}},{key:"toOptsArr",value:function(t){var e=[];return this.isArray(t)?e=t:e.push(t),e}},{key:"init",value:function(t){this.initDone=!0;var e=this;return this.container.forEach((function(r){var n=e.toOptsArr(t).map((function(t){return e.initPara(t,r)}));r.initValueArr=n})),this}},{key:"flex",value:function(t){this.initDone||this.init(t);var e=this;return this.container.forEach((function(r){for(var n=e.toOptsArr(t),i=0;i<r.initValueArr.length;i++)n[i]&&e.executeFlexByScreenWidth(n[i],r.initValueArr[i])})),this}}]),n}();return function(t){return new n(t)}}(window,Array,document);e.default=s,t.exports=e.default},function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){var n=r(3),i=r(4),o=r(5);t.exports=function(t,e){return n(t)||i(t,e)||o()}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=r=function(t){return typeof t}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(e)}t.exports=r},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}])}));